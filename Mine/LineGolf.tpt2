:name Ir.Mine.LineGolf

:local int i

#posCardinality 4 * 4
#tab i / {posCardinality}

; Impulses
wakeup()
open.mine()

; Conditions
isopen("mine")

; Actions
tab:
tab({tab} + 1)

layer:
newlayer()

dig:
dig(i % 4, (i % {posCardinality}) / 4)
i += 1
gotoif(if(0 < i, dig, \
  if(hasLayers(), layer, tab)), \
    isopen("mine") && {tab} < 12)
